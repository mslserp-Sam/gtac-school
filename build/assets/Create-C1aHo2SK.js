import{a as g,u as b,j as e,L as c}from"./app-DQKe6Pji.js";import{A as p}from"./AdminLayout-Cr8CHBCI.js";function v(){const[i,n]=g.useState(null),{data:t,setData:s,post:o,processing:m,errors:r}=b({title:"",description:"",category:"",level:"",duration:"",brochure_path:"",sort_order:0,is_active:!0,image_file:null}),x=a=>{const l=a.target.files[0];if(l){s("image_file",l);const d=new FileReader;d.onloadend=()=>{n(d.result)},d.readAsDataURL(l)}},u=a=>{a.preventDefault(),o("/admin/courses",{preserveScroll:!0})};return e.jsxs(p,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create New Course"}),e.jsx(c,{href:"/admin/courses",className:"text-gray-600 hover:text-gray-800",children:"â† Back to Courses"})]}),e.jsx("div",{className:"bg-white shadow rounded-md p-8",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),e.jsx("input",{type:"text",value:t.title,onChange:a=>s("title",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md",required:!0}),r.title&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:a=>s("description",a.target.value),rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),r.description&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.description})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Image"}),i&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Image Preview:"}),e.jsx("img",{src:i,alt:"Course preview",className:"max-w-md h-48 object-cover rounded-md border border-gray-300"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a course image (JPEG, PNG, GIF, or WebP, max 10MB)"})]}),r.image_file&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.image_file})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("input",{type:"text",value:t.category,onChange:a=>s("category",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),e.jsx("input",{type:"text",value:t.level,onChange:a=>s("level",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),e.jsx("input",{type:"text",value:t.duration,onChange:a=>s("duration",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),e.jsx("input",{type:"number",value:t.sort_order,onChange:a=>s("sort_order",parseInt(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:a=>s("is_active",a.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:m,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",children:m?"Creating...":"Create Course"}),e.jsx(c,{href:"/admin/courses",className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})})]})}export{v as default};
