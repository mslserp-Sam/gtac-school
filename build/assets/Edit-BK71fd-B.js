import{a as b,u as p,j as e,L as c}from"./app-DQKe6Pji.js";import{A as h}from"./AdminLayout-Cr8CHBCI.js";function v({course:t}){const[d,o]=b.useState(null),{data:r,setData:s,post:x,processing:n,errors:l}=p({_method:"PUT",title:t.title||"",description:t.description||"",category:t.category||"",level:t.level||"",duration:t.duration||"",brochure_path:t.brochure_path||"",sort_order:t.sort_order||0,is_active:t.is_active??!0,image_file:null}),g=a=>{const i=a.target.files[0];if(i){s("image_file",i);const m=new FileReader;m.onloadend=()=>{o(m.result)},m.readAsDataURL(i)}},u=a=>{a.preventDefault(),x(`/admin/courses/${t.id}`,{preserveScroll:!0})};return e.jsxs(h,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Edit Course"}),e.jsx(c,{href:"/admin/courses",className:"text-gray-600 hover:text-gray-800",children:"â† Back to Courses"})]}),e.jsx("div",{className:"bg-white shadow rounded-md p-8",children:e.jsxs("form",{onSubmit:u,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),e.jsx("input",{type:"text",value:r.title,onChange:a=>s("title",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md",required:!0}),l.title&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:a=>s("description",a.target.value),rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),l.description&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.description})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Image"}),t.image_path&&!d&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Image:"}),e.jsx("img",{src:t.image_path,alt:"Current course image",className:"max-w-md h-48 object-cover rounded-md border border-gray-300"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.image_path})]}),d&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"New Image Preview:"}),e.jsx("img",{src:d,alt:"New course preview",className:"max-w-md h-48 object-cover rounded-md border border-gray-300"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a new course image (JPEG, PNG, GIF, or WebP, max 10MB)"})]}),l.image_file&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.image_file})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("input",{type:"text",value:r.category,onChange:a=>s("category",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),e.jsx("input",{type:"text",value:r.level,onChange:a=>s("level",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),e.jsx("input",{type:"text",value:r.duration,onChange:a=>s("duration",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),e.jsx("input",{type:"number",value:r.sort_order,onChange:a=>s("sort_order",parseInt(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.is_active,onChange:a=>s("is_active",a.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:n,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",children:n?"Updating...":"Update Course"}),e.jsx(c,{href:"/admin/courses",className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})})]})}export{v as default};
